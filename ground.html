<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Football_Record_Statistics">
<meta name="author" content="LoonyHyun">
<meta property="og:url" content="https://loonyhyun.cafe24.com/">
<meta property="og:title" content="바론 FC 경기 기록실">
<meta property="og:type" content="website">
<meta property="og:image" content="https://loonyhyun.cafe24.com/football_tpm/img/main.png">
<meta property="og:description" content="바론 FC의 경기 기록실 입니다.">
<title>경기 기록</title>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<script src="/football_tpm/bootstrap-datepicker.min.js"></script>
<script src="/football_tpm/bootstrap-datepicker.ko.min.js"></script>
<link href="/football_tpm/bootstrap-datepicker.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

<script src="/football_tpm/team.js"></script>
<link href="/football_tpm/team.css" rel="stylesheet">


<script>
	var MAX_WIDTH = $(window).width();
	$(document).ready(function(){
		//MAX_WIDTH = $(window).width();
		MAX_WIDTH = $(".table").width();
		$("#headers").load("/football_tpm/header.html", function(){
			getTeam();
			$("#header_8").addClass("text-warning").removeClass("text-white");
		});
		setLayout();
		getGrounds();
	});

	$(window).resize(function(){
		//MAX_WIDTH = $(window).width();
		MAX_WIDTH = $(".table").width();
		setLayout();
	});

	function getGrounds(){
		MAX_WIDTH = $(".table").width();
		$.ajax({
			type : "post",
			url : '/football_tpm/get.php',
			data : {
				cmd : "ground",
				id : 1
			},
			dataType:"json",
			success : function(data, textStatus, jqXHR) {
				var tbody = $("#GROUND_TBODY");
				var tdiv = $("#GROUND_DIV");
				tbody.html("");
				tdiv.html("");

				var EX_VALUE = 10;
				EX_VALUE = MAX_WIDTH / 120;
				
				for(var i=0; i<data.length; i++){
					var tmp = data[i];
					var str = "";

					str += "<tr>";
					str += "<td>"+(i+1)+"</td>";
					str += "<td>"+nvlValue(tmp["name"])+"</td>";
					str += "<td>"+nvlValue(tmp["width"])+"</td>";
					str += "<td>"+nvlValue(tmp["height"])+"</td>";
					str += "<td>"+nvlValue(tmp["ground_type"])+"</td>";
					str += "<td>"+nvlValue(tmp["recommend_shoe"])+"</td>";
					str += "</tr>";

					tbody.append(str);

					if(nvlNumber(tmp["width"]) > 0 && nvlNumber(tmp["height"]) > 0){
						var width = "width: " + (nvlNumber(tmp["width"]) * EX_VALUE) + "px; ";
						var height = "height: " + (nvlNumber(tmp["height"]) * EX_VALUE) + "px; ";
						var color = "#" + Math.round(Math.random() * 0xffffff).toString(16);
						var style = "position:absolute; font-weight:bold; color: " + color + ";"; 
						style += width + height + " border: 3px solid " + color + ";";

						var div = "<div style='"+style+"'> " + brAppend(i) + nvlValue(tmp["name"])+" </div>";
						tdiv.append(div);
					}
				}

			}
		});
	}
	function brAppend(cnt){
		var str = "";
		for(var i=0; i<cnt; i++){
			str += "<br>";
		}
		return str;
	}
	function nvlValue(val){
		if(val == null || val == 'null'){
			return '';
		}
		return val;
	}
	function nvlNumber(val){
		if(val == null || val == 'null' || val == undefined || val == ''){
			return 0;
		}
		return val;
	}
</script>
<style>
</style>
</head>
<body>

    <div id="headers"></div>
	<div class="container">
		<table class="table auto_font_size">
			<thead>
				<tr style="background-color:#bbbbbb;">
					<th scope="col">#</th>
					<th scope="col" onclick="SortTable(1, 'ASC')">NAME</th>
					<th scope="col" onclick="SortTable(2, 'DESC')">WIDTH</th>
					<th scope="col" onclick="SortTable(3, 'DESC')">HEIGHT</th>
					<th scope="col" onclick="SortTable(4, 'DESC')">TYPE</th>
					<th scope="col" onclick="SortTable(5, 'DESC')">SHOES</th>
				</tr>
			</thead>
			<tbody id="GROUND_TBODY"></tbody>
		</table>

		<div class="row">&nbsp;</div>
		<div class="row" id="GROUND_DIV" style="margin-bottom: 15px; height:750px;">
		</div>
		<div class="row">&nbsp;</div>

		<div id='footers'></div>
	</div>
</body>
</html>